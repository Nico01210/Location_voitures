<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/com/microcommerce/service_vehicules/controller/VehicleController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/microcommerce/service_vehicules/controller/VehicleController.java" />
              <option name="originalContent" value="package com.microcommerce.service_vehicules.controller;&#10;import com.microcommerce.service_vehicules.model.Vehicle;&#10;import com.microcommerce.service_vehicules.service.VehicleService;&#10;import jakarta.validation.Valid;&#10;import lombok.RequiredArgsConstructor;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;import org.springframework.web.servlet.support.ServletUriComponentsBuilder;&#10;&#10;import java.net.URI;&#10;import java.util.List;&#10;@RestController&#10;@RequestMapping(&quot;/api/vehicles&quot;)&#10;@RequiredArgsConstructor&#10;@CrossOrigin(origins = &quot;*&quot;)&#10;public class VehicleController {&#10;    private final VehicleService service; // GET /vehicles&#10;&#10;&#10;    @GetMapping&#10;    public List&lt;Vehicle&gt; getAllVehicles() {&#10;        return service.findAll();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public Vehicle getVehicle(@PathVariable String id) {&#10;        return service.findById(id);&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Vehicle&gt; createVehicle(@Valid @RequestBody Vehicle vehicle) {&#10;        Vehicle saved = service.save(vehicle);&#10;        URI location = ServletUriComponentsBuilder&#10;                .fromCurrentRequest()&#10;                .path(&quot;/{id}&quot;)&#10;                .buildAndExpand(saved.getRegistration())&#10;                .toUri();&#10;        return ResponseEntity.created(location).body(saved);&#10;    }&#10;&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public Vehicle updateVehicle(@PathVariable String id, @RequestBody Vehicle vehicle) {&#10;        Vehicle existing = service.findById(id);&#10;        existing.setBrand(vehicle.getBrand());&#10;        existing.setModel(vehicle.getModel());&#10;        existing.setColor(vehicle.getColor());&#10;        existing.setBasePrice(vehicle.getBasePrice());&#10;        existing.setPricePerKm(vehicle.getPricePerKm());&#10;        existing.setFiscalPower(vehicle.getFiscalPower());&#10;        return service.save(existing);&#10;    }&#10;&#10;&#10;}" />
              <option name="updatedContent" value="package com.microcommerce.service_vehicules.controller;&#10;import com.microcommerce.service_vehicules.model.Vehicle;&#10;import com.microcommerce.service_vehicules.service.VehicleService;&#10;import jakarta.validation.Valid;&#10;import lombok.RequiredArgsConstructor;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.web.bind.annotation.*;&#10;import org.springframework.web.servlet.support.ServletUriComponentsBuilder;&#10;&#10;import java.net.URI;&#10;import java.util.List;&#10;@RestController&#10;@RequestMapping(&quot;/api/vehicles&quot;)&#10;@RequiredArgsConstructor&#10;@CrossOrigin(origins = &quot;*&quot;)&#10;public class VehicleController {&#10;    private final VehicleService service; // GET /vehicles&#10;&#10;&#10;    @GetMapping&#10;    public List&lt;Vehicle&gt; getAllVehicles() {&#10;        return service.findAll();&#10;    }&#10;&#10;    @GetMapping(&quot;/{id}&quot;)&#10;    public Vehicle getVehicle(@PathVariable String id) {&#10;        return service.findById(id);&#10;    }&#10;&#10;    @PostMapping&#10;    public ResponseEntity&lt;Vehicle&gt; createVehicle(@Valid @RequestBody Vehicle vehicle) {&#10;        Vehicle saved = service.save(vehicle);&#10;        URI location = ServletUriComponentsBuilder&#10;                .fromCurrentRequest()&#10;                .path(&quot;/{id}&quot;)&#10;                .buildAndExpand(saved.getRegistration())&#10;                .toUri();&#10;        return ResponseEntity.created(location).body(saved);&#10;    }&#10;&#10;    @PutMapping(&quot;/{id}&quot;)&#10;    public Vehicle updateVehicle(@PathVariable String id, @RequestBody Vehicle vehicle) {&#10;        Vehicle existing = service.findById(id);&#10;        existing.setBrand(vehicle.getBrand());&#10;        existing.setModel(vehicle.getModel());&#10;        existing.setColor(vehicle.getColor());&#10;        existing.setBasePrice(vehicle.getBasePrice());&#10;        existing.setPricePerKm(vehicle.getPricePerKm());&#10;        existing.setFiscalPower(vehicle.getFiscalPower());&#10;        return service.save(existing);&#10;    }&#10;&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>